# 1644年开局思潮覆盖
# 确保所有思潮在1644年已经出现

feudalism = {
	age = age_1_traditions 
	
	can_spawn = {
		always = yes  # 在1644年，封建主义应该已经出现
	}
	promote_chance = {
		add = {
			value = num_pop_type:nobles
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_early
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_early
	spread_from_any_import = institution_trade_spread_value_early
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_early
	spread_to_market_member = institution_spread_to_market_member_early
}

legalism = {
	age = age_1_traditions 
	
	can_spawn = {
		always = yes  # 在1644年，法治应该已经出现
	}
	
	promote_chance = {
		add = {
			value = num_pop_type:clergy
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_early
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_early
	spread_from_any_import = institution_trade_spread_value_early
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_early
	spread_to_market_member = institution_spread_to_market_member_early
}

meritocracy = {
	age = age_1_traditions 
	
	can_spawn = {
		always = yes  # 在1644年，任人唯贤应该已经出现
	}
	
	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = num_pop_type:burghers
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_early
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_early
	spread_from_any_import = institution_trade_spread_value_early
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_early
	spread_to_market_member = institution_spread_to_market_member_early
}

renaissance = {
	age = age_2_renaissance 
	
	can_spawn = {
		always = yes  # 在1644年，文艺复兴应该已经出现
	}

	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = num_pop_type:burghers
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_early
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_early
	spread_from_any_import = institution_trade_spread_value_early
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_early
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_early
	spread_to_market_member = institution_spread_to_market_member_early
}

banking = {
	age = age_2_renaissance 
	
	can_spawn = {
		always = yes  # 在1644年，银行业应该已经出现
	}

	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = num_pop_type:burghers
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_early
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_early
	spread_from_any_import = institution_trade_spread_value_early
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_early
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_early
	spread_to_market_member = institution_spread_to_market_member_early
}

professional_armies = {
	age = age_2_renaissance 
	
	can_spawn = {
		always = yes  # 在1644年，职业军队应该已经出现
	}
	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = modifier:local_manpower
			multiply = 2
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_early
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_early
	spread_from_any_import = institution_trade_spread_value_early
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_early
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_early
	spread_to_market_member = institution_spread_to_market_member_early
}

new_world = {
	age = age_3_discovery 

	can_spawn = {
		always = yes  # 在1644年，新世界应该已经出现
	}

	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = num_pop_type:burghers
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_mid
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_mid
	spread_from_any_import = institution_trade_spread_value_mid
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_mid
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_mid
	spread_to_market_member = institution_spread_to_market_member_mid
}

printing_press = { 
	age = age_3_discovery 
	
	can_spawn = {
		always = yes  # 在1644年，印刷术应该已经出现
	}
	
	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = average_location_literacy
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_mid
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_mid
	spread_from_any_import = institution_trade_spread_value_mid
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_mid
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_mid
	spread_to_market_member = institution_spread_to_market_member_mid
}

pike_and_shot = {
	age = age_3_discovery 
	
	can_spawn = {
		always = yes  # 在1644年，长矛与火枪应该已经出现
	}
	
	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = modifier:local_manpower
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_mid
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_mid
	spread_from_any_import = institution_trade_spread_value_mid
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_mid
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_mid
	spread_to_market_member = institution_spread_to_market_member_mid
}

confessionalism = {
	age = age_4_reformation 
	
	can_spawn = {
		always = yes  # 在1644年，教派主义应该已经出现
	}
	
	promote_chance = {
		add = {
			if = {
				limit = {
					num_pop_type:clergy > 10
				}
				value = average_location_literacy
				multiply = 10
			}
		}
		add = {
			value = num_pop_type:clergy
			multiply = 5
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_mid
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_mid
	spread_from_any_import = institution_trade_spread_value_mid
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_mid
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_mid
	spread_to_market_member = institution_spread_to_market_member_mid
}

global_trade = {
	age = age_4_reformation 
	
	can_spawn = {
		always = yes  # 在1644年，全球贸易应该已经出现
	}
	
	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = num_pop_type:burghers
			multiply = 5
		}
		add = {
			if = {
				limit = { is_port = yes }
				value = 5
			}
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_mid
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_mid
	spread_from_any_import = institution_trade_spread_value_mid
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_mid
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_mid
	spread_to_market_member = institution_spread_to_market_member_mid
}

artillery_institution = {
	age = age_4_reformation 
	
	can_spawn = {
		always = yes  # 在1644年，炮兵制度应该已经出现
	}
	
	promote_chance = {
		add = {
			value = average_location_literacy
		}
		add = {
			value = modifier:local_manpower
			multiply = 10
		}
	}
	
	spread_from_friendly_coast_border_location = institution_base_spread_from_friendly_neighbor_with_mid
	spread_from_any_coast_border_location = institution_base_spread_from_neighbor_with_mid
	spread_from_any_import = institution_trade_spread_value_mid
	spread_from_was_possible_spawn = institution_spread_from_was_possible_spawn_mid
	spread_scale_on_control_if_owner_embraced = 2
	spread_embraced_to_capital = institution_total_embraced_to_capital_mid
	spread_to_market_member = institution_spread_to_market_member_mid
}

